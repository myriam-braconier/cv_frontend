(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},3262:()=>{},3836:()=>{},5561:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(5155),a=t(2115);let n=()=>{let[e,s]=(0,a.useState)(1),[t,n]=(0,a.useState)({x:0,y:0}),[l,o]=(0,a.useState)(1);return((0,a.useEffect)(()=>{let e=[setTimeout(()=>s(2),2e3),setTimeout(()=>s(3),4e3),setTimeout(()=>s(4),6e3)];return()=>e.forEach(e=>clearTimeout(e))},[]),(0,a.useEffect)(()=>{if(2===e){let e=setInterval(()=>{n({x:100*Math.random()-50,y:100*Math.random()-50})},500);return()=>clearInterval(e)}},[e]),(0,a.useEffect)(()=>{if(3===e){let e=setInterval(()=>{o(e=>Math.max(0,e-.1))},100);return()=>clearInterval(e)}},[e]),4===e)?null:(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 pointer-events-none",children:(0,r.jsx)("div",{className:"\n          transition-all duration-500 ease-in-out\n          ".concat(1===e?"animate-bounce":"","\n          ").concat(2===e?"animate-spin":"","\n        "),style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),opacity:l},children:(0,r.jsx)("div",{className:"\n          w-32 h-32 \n          rounded-full \n          bg-gradient-to-r \n          from-blue-500 \n          to-orange-700\n          ".concat(1===e?"animate-pulse":"","\n        ")})})})}},6292:e=>{e.exports={style:{fontFamily:"'geistMono', 'geistMono Fallback'"},className:"__className_c3aa02",variable:"__variable_c3aa02"}},8860:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var r=t(5155),a=t(2619),n=t.n(a),l=t(2115),o=t(63),i=t(5239);let c="http://localhost:4000",d=e=>{let{href:s,children:t,className:a=""}=e;return(0,r.jsx)(n(),{href:s,className:"px-3 py-2 rounded-md transition-colors duration-200 hover:bg-gray-700/50 ".concat(a),children:t})};function u(){let[e,s]=(0,l.useState)(!1),[t,a]=(0,l.useState)(null),u=(0,o.useRouter)(),h=(0,o.usePathname)(),m=(0,l.useCallback)(async()=>{try{let e=localStorage.getItem("token");e&&await fetch("".concat(c,"/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"})}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),u.push("/")}},[u]),x=(0,l.useCallback)(async()=>{try{let e=localStorage.getItem("token");if(e&&(await fetch("".concat(c,"/auth/verify"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"})).ok){let e=localStorage.getItem("user");e&&a(JSON.parse(e))}}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),a(null)}},[]);(0,l.useEffect)(()=>{x()},[h,x]);let f=()=>(0,r.jsxs)("div",{className:"flex items-baseline space-x-8 ",children:[(0,r.jsx)(d,{href:"/synthetisers",children:"Synth\xe9tiseurs"}),(0,r.jsx)(d,{href:"/auctions",children:"Ench\xe8res"}),(0,r.jsx)(d,{href:"/about",children:"A propos"})]}),p=()=>{var e;return(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-red-600",children:(null==t?void 0:t.username)||(null==t||null==(e=t.email)?void 0:e.split("@")[0])||"Utilisateur"}),(0,r.jsx)("button",{onClick:m,className:"bg-red-600 hover:bg-red-700 px-3 py-2 rounded-md text-black transition-colors duration-200",children:"D\xe9connexion"})]})},v=()=>(0,r.jsxs)("div",{className:"space-x-4 text-center",children:[(0,r.jsx)(n(),{href:"/login",className:"bg-red-600 hover:bg-red-700 px-3 py-2 rounded-md text-black transition-colors duration-200",children:"Connexion"}),(0,r.jsx)(n(),{href:"/register",className:"bg-white hover:bg-gray-800 px-3 py-2 rounded-md text-black hover:text-white transition-colors duration-200",children:"Inscription"})]});return(0,r.jsxs)("nav",{className:"bg-blue-900/50 text-white z-50",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsxs)(n(),{href:"/",className:"flex items-center",children:[(0,r.jsx)(i.default,{src:"/images/logosound.jpg",alt:"Logo CV",width:48,height:48,className:"rounded-full",priority:!0}),(0,r.jsx)("span",{className:"text-xl font-bold ml-8",children:"Concrete Vibes"})]})}),(0,r.jsxs)("div",{className:"hidden md:flex md:items-center md:justify-between md:flex-grow ml-6",children:[(0,r.jsx)("div",{className:"flex-1",children:f()}),(0,r.jsx)("div",{className:"ml-4",children:t?p():v()})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("button",{onClick:()=>s(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-gray-700",children:[(0,r.jsx)("span",{className:"sr-only",children:"Menu"}),(0,r.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),e&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f(),(0,r.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:t?p():v()})]})})]})}},9053:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9449,23)),Promise.resolve().then(t.t.bind(t,6292,23)),Promise.resolve().then(t.t.bind(t,3262,23)),Promise.resolve().then(t.bind(t,8860)),Promise.resolve().then(t.bind(t,5561)),Promise.resolve().then(t.t.bind(t,3836,23))},9449:e=>{e.exports={style:{fontFamily:"'geistSans', 'geistSans Fallback'"},className:"__className_1e4310",variable:"__variable_1e4310"}}},e=>{e.O(0,[582,239,619,441,255,358],()=>e(e.s=9053)),_N_E=e.O()}]);